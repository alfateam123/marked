<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Markdown to BBCode converter</title>
  <script type="text/javascript" src="./lib/marked.js"></script>
</head>
<body>
  Markdown to BBCode converter<br/>
  <!--<a href='SYNTAX.md'>Syntax reference (examples)</a>&nbsp;<a href='tests/test.html'>automated tests by QUnit.js</a>&nbsp;<a href="http://github.com/alfateam123/docs/tutorial.md">md2bbc tutorial</a>-->
  <table>
    <tr>
      <td><textarea id="md" rows="30" cols="80"></textarea></td>
      <td><textarea id="bb" rows="30" cols="80"></textarea></td>
    </tr>
  </table>
  <a href="javascript:viod(0);" onclick="nerdzpreview()">Preview on nerdz.eu</a>
  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
      var source = document.getElementById("md"),
          target = document.getElementById("bb"),
          // sample text for a quick demo
          text = '<http://en.wikipedia.org/wiki/SECD_abstract_machine>\n\n**WAHT IZ LOVE?** _baby don\'t hurt me! don\'t hurt me! no more_\n<http://www.youtube.com/watch?v=r4qmUpAE9o8>\n\n---\n\n* Asagi\n' +
          '* Charlotte\n* Tsurugi\n\n---\n\nmore _cool tests_\n[math]\\\\sqrt-1 * \\\\frac{5}{b*2*3}-q_ad[/math]_\n[cur]**asd**[/cur]\n[url=http://google.com]<http://alfateam123.niggazwithattitu.de>[/url]' +
          '\n\n[code=sh]\nfind *.* | grep .torrent$\n[/code]\n\n```perl\nuse Data::Dumper;\nprint Dumper($val);\nfor my $lol (@unrecognized){\n  #thenopeproject\n}\nprint **lolololol**\nprint "do you wanna'+
          ' use ` ?"; \nprint `find .`;\n\n```sh\nls | grep html\n```\n\n>4chan\n>style\n>is triggered!\n>in the quote\n\n---\n\n>!epic\nyou\n>know\n>who\n_dies_\n>**here!**\n\n\n[small]lololol[/small]\n\n'+
          'wtf -> lolpls\n\n> niconiconii pls\nstop saying niconiconii\n\nawful drawing here! ![it should be "alt"](http://31.media.tumblr.com/61c8bc1f8be79bf214c54688c7ed4377/tumblr_n4rhtwz7Bn1s825jqo1_1280.jpg)' +
          '\n\n## bigbigbigbigbigbigbig\n### smallsmallsmallsmallsmallsmallsmall ###\n#### lolnope\n# biggah\nBIG\n---\n\nEQUALLY BIG\n===========\n\n\n> xp is\n> for old users\n> did you know that?\n\nlol'+
          '\n\n<https://gist.github.com/alfateam123/7cc354929eb3d8817857>\n\n@alfateam123 #Nerdzilla\n\n~~you didn\'t see a thing~~';

      // Set source text
      source.value = text;

      // Update the preview every time the input text changes
      // (sort of real time preview)
      source.addEventListener('keyup', function() {
        target.value = marked(source.value);
      }, false);

      // Convert text after page load
      target.value = marked(source.value);
    });

    // It doesn't work yet, text must be escaped before sending it
    var nerdzpreview = function() {
      document.location.href = "https://www.nerdz.eu/preview.php?message=" + document.getElementById("bb").value;
    }
  </script>
</body>
</html>